webpackJsonp([5],{197:function(t,o,e){"use strict";function n(t){d||e(232)}Object.defineProperty(o,"__esModule",{value:!0});var s=e(234),i=e.n(s),a=e(235),d=!1,c=e(5),r=n,p=c(i.a,a.a,!1,r,"data-v-6d06277c",null);p.options.__file="src\\components\\shoppingCart\\shoppingcart.vue",p.esModule&&Object.keys(p.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),o.default=p.exports},206:function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default={apihost:"http://vue.studyit.io/"}},232:function(t,o,e){var n=e(233);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);e(6)("bd2e9aee",n,!1)},233:function(t,o,e){o=t.exports=e(3)(void 0),o.push([t.i,"\n.shoppingCartList[data-v-6d06277c]{\n  height: 100px;\n  display: flex;\n  align-items:center;\n  border-bottom: 1px solid #ccc; \n  padding: 5px;\n}\n.goodsPic[data-v-6d06277c] {\n  width: 70px;\n  height: 70px;\n  border: 1px solid #ccc;\n  border-radius: 8px;\n  padding:3px;\n  margin: 0px 5px;\n}\n.goodsPic img[data-v-6d06277c] {\n  width: 100%;\n}\n.goodsInfo[data-v-6d06277c]{\n  flex: 1\n}\n.goodsInfo h4[data-v-6d06277c] {\n  height: 34px;\n  font-size: 17px;\n  color: #0094ff;\n  font-weight: 500;\n  word-break: break-all;\n  text-overflow: ellipsis;\n  display: -webkit-box; /** 对象作为伸缩盒子模型显示 **/\n  -webkit-box-orient: vertical; /** 设置或检索伸缩盒对象的子元素的排列方式 **/\n -webkit-line-clamp: 2; /** 显示的行数 **/\n overflow: hidden;  /** 隐藏超出的内容 **/\n}\n.goodsInfo p span[data-v-6d06277c]:first-of-type {\n  color: red;\n  font-size: 16px;\n}\n.aggregate[data-v-6d06277c]{\n  height: 100px;\n  background-color: #eee;\n  padding: 5px;\n  /* 开启弹性布局 */\n  display: flex;  \n  /* 左右两边分布,两边无间隙 */\n  justify-content : space-between;\n  /* 垂直居中 */\n  align-items:center;\n}\n.aggregate p span[data-v-6d06277c] {\n  color: red;\n  font-size: 18px\n}\n",""])},234:function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=e(206),s=function(t){return t&&t.__esModule?t:{default:t}}(n),i=e(7);o.default={data:function(){return{shoppingGoodsList:[],goodsTotal:0,priceTotal:0}},created:function(){this.getShopCartListData()},methods:{getShopCartListData:function(){var t=this,o=this.$store.getters.getGoodsList,e={};o.forEach(function(t){e[t.goodsId]?e[t.goodsId]+=t.count:e[t.goodsId]=t.count});var n=[];for(var i in e)n.push(i);var a=n.join(","),d=s.default.apihost+"api/goods/getshopcarlist/"+a;this.$http.get(d).then(function(o){o.body.message.forEach(function(t){t.count=e[t.id],t.isSelect=!0}),t.shoppingGoodsList=o.body.message,t.statisticsGoods()})},statisticsGoods:function(){var t=0,o=0;this.shoppingGoodsList.forEach(function(e){e.isSelect&&(t+=e.count,o+=e.count*e.sell_price)}),this.goodsTotal=t,this.priceTotal=o},deleteGoods:function(t){var o=this;i.MessageBox.confirm("确定删除吗").then(function(e){var n=o.shoppingGoodsList[t].id;o.$store.commit("deleteGoodsByGoodsId",n),o.shoppingGoodsList.splice(t,1),o.statisticsGoods()},function(t){})}}}},235:function(t,o,e){"use strict";var n=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",[t._l(t.shoppingGoodsList,function(o,n){return e("div",{key:o.id,staticClass:"shoppingCartList"},[e("mt-switch",{on:{change:function(o){t.statisticsGoods()}},model:{value:o.isSelect,callback:function(e){t.$set(o,"isSelect",e)},expression:"item.isSelect"}}),t._v(" "),e("div",{staticClass:"goodsPic"},[e("img",{attrs:{src:o.thumb_path,alt:""}})]),t._v(" "),e("div",{staticClass:"goodsInfo"},[e("h4",[t._v(t._s(o.title))]),t._v(" "),e("p",[e("span",[t._v("¥"+t._s(o.sell_price))]),t._v(" "),e("span",[t._v("商品数量为:"+t._s(o.count))])])]),t._v(" "),e("mt-button",{attrs:{disabled:!o.isSelect,size:"small",type:"danger"},on:{click:function(o){t.deleteGoods(n)}}},[t._v("删除")])],1)}),t._v(" "),e("div",{staticClass:"aggregate"},[e("div",[e("h4",[t._v("总计(不含运费)")]),t._v(" "),e("p",[t._v("已经选择的商品"),e("span",[t._v(t._s(t.goodsTotal))]),t._v("件,总价:"),e("span",[t._v("¥"+t._s(t.priceTotal))])])]),t._v(" "),e("mt-button",{attrs:{size:"normal",type:"danger"}},[t._v("去结算")])],1)],2)},s=[];n._withStripped=!0;var i={render:n,staticRenderFns:s};o.a=i}});